<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>

		<title>Prototypes: A Beginner's Guide</title>

		<meta name="description" content="An introduction to JavaScript prototypes (pre-ES6)"/>
		<meta name="author" content="Eddie Antonio Santos"/>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<link rel="stylesheet" href="css/theme/sky.css" id="theme">
		<link rel="stylesheet" href="css/reveal.min.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

<style>
/* Button styles! */
input[type="button"] {
    font-size: 150%;
    border-radius: .25em;
    background-color: #ccc;
    background-image: linear-gradient(0deg, #ccc, #eee);
    display: inline-block;
    margin: .25em;
    box-shadow: .125em .125em 4px 1px rgba(0,0,0,0.4);
}

input[type="button"][onclick] {
  font-family: monospace;
}

input[type="button"]:hover {
    background-color: #ddd;
    background-image: linear-gradient(0deg, #d5e0e5, #eee);
}
</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

			  <section>
			    <h1>Prototypes</h1>
                            <h2> A beginner's guide </h2>
			    <p>
			      <small>Created
				by <a href="http://eddieantonio.ca">Eddie
                                  Antonio
				  Santos</a><br/>
                                Department of Computing Science<br/>
                                University of Alberta<br/>
                                Edmonton, Alberta, Canada<br/>
			    </p>
                            <p>
                              </small>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
			    </p>
                            <p>
                              <small>
                                Based on slides by <a href="http://softwareprocess.es/">Abram Hindle</a>
                              </small>
			    </p>
			  </section>



<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## JavaScript Objects

Recall: The primary form of structuring data

```javascript
var obj = {
  property1: 'value',
  property2: 'value',
};
```
</script>
</div>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->


<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Objects

 * JavaScript objects have _properties_:

```javascript
var obj = {
  property1: 'value1',
  property2: 'value2'
}

function gimmeProperty() {
  // Access a property witth dot notation
  alert(obj.property1);
}
function gimmePropertyWithBrackets() {
  // Access a property with bracket notation
  alert(obj['property1']);
}
```
</script>
<script>
var obj = {
  property1: 'value1',
  property2: 'value2'
}

function gimmeProperty() {
  // Access a property witth dot notation
  alert(obj.property1);
}
function gimmePropertyWithBrackets() {
  // Access a property with bracket notation
  alert(obj['property1']);
}
</script>
</div>
<input type="button" value="alert(obj.property1)"
       onclick="javascript:gimmeProperty();"/>
<input type="button" value="alert(obj['property1'])"
       onclick="javascript:gimmePropertyWithBrackets();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- real example do object.toString(): how does that work? -->
<!-- real example do object.length: how does that work? -->
<!-- real example do array.length: how does that work? -->


<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Objects

````
undefined.property; // Throws a type error
undefined && undefined.property // returns undefined
var empty = {};
empty.property === undefined;
var abram = {
   "name":"Abram Hindle",
   "job":"Throwing Down JS",
   "favorite tea":"puerh"
};
keys(abram); // produces ["name","job","favorite tea"]
//prototype!
var abramChild = Object.create(abram)
keys(abramChild); // produces []
abramChild.name === "Abram Hindle"; // inherits keys from abram
````
</script>
</div>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Objects

````
var abram = {
   "name":"Abram Hindle",
   "job":"Throwing Down JS",
   "favorite tea":"puerh",
   "sayName": function() {
      alert(this.name);
   }
};
abramChild = Object.create(abram);
abramChild.name = "Child";
function doit() {
    abram.sayName();
    abramChild.sayName();
}

````
</script>
</div>
<script>
var abram = {
   "name":"Abram Hindle",
   "job":"Throwing Down JS",
   "favorite tea":"puerh",
   "sayName": function() {
      alert(this.name);
   }
};
abramChild = Object.create(abram);
abramChild.name = "Child";
function doit() {
    abram.sayName();
    abramChild.sayName();
}
</script>
<input type="button" value="doit()" onclick="javascript:doit();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Methods

````
var abram = {
   "name":"Abram Hindle",
   "job":"Throwing Down JS",
   "favorite tea":"puerh",
   "sayName": function() {
      alert(this.name);
   }
};
abramChild = Object.create(abram);
abramChild.name = "Child";
function doit() {
    abram.sayName();
    abramChild.sayName();
}

````
</script>
</div>
<script>
var abram = {
   "name":"Abram Hindle",
   "job":"Throwing Down JS",
   "favorite tea":"puerh",
   "sayName": function() {
      alert(this.name);
   }
};
abramChild = Object.create(abram);
abramChild.name = "Child";
function doit() {
    abram.sayName();
    abramChild.sayName();
}
</script>
<input type="button" value="doit()" onclick="javascript:doit();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->



<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Methods

* There's a problem, if we use a function to construct our objects.
* The context of this does not get shared appropriately in inner
  functions since this will reference the function itself.

````
// we can use new on person now!
var Person = function() { // function is an object
   this.name = "Abram Hindle"; // this is the current function
   this.job = "Throwing Down JS";
   this["favorite tea"] = "puerh";
   var self = this; // you could do this if you like perl
   var that = this; // this is more idiomatic
   this.sayName = function() {
       var thatNameAccessor = function () {
           return that.name;
       };
       var thisNameAccessor = function () {
           return this.name;
       };
       alert("this:" + thisNameAccessor() +
             " that:" + thatNameAccessor());
   }
};
function doit2() {
    var p = new Person();
    p.sayName();
}
````
</script>
</div>
<script>
// we can use new on person now!
var person = function() { // function is an object
   this.name = "Abram Hindle"; // this is the current function
   this.job = "Throwing Down JS";
   this["favorite tea"] = "puerh";
   var self = this; // you could do this if you like perl
   var that = this; // this is more idiomatic
   this.sayName = function() {
       var thatNameAccessor = function () {
           return that.name;
       };
       var thisNameAccessor = function () {
           return this.name;
       };
       alert("this:" + thisNameAccessor() +
             " that:" + thatNameAccessor());
   }
};
function doit2() {
    var p = new person();
    p.sayName();
}
</script>
<input type="button" value="doit2()" onclick="javascript:doit2();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Methods

* There's a problem, if we use a function to construct our objects.
* The context of this does not get shared appropriately in inner
  functions since this will reference the function itself.

````
// look a constructor!
var Animal = function(name) { // function is an object
   this.name = name; // this is the current function
   this.odd = (Math.random() > 0.5);
   var that = this;
   this.likesNumber = function(x) {
       return (x%2 == 1)?this.odd:!this.odd;
   }
};
function doit3() {
   var animal = new Animal(prompt("Name your Animal"));
   var num = prompt("A number your animal might like!");
   alert( animal.likesNumber( num ) ? "Yes!"+animal.name+" loves it" :
                                      "No "+animal.name+" hates it!" );
}
````
</script>
</div>
<script>
// we can use new on person now!
var Animal = function(name) { // function is an object
   this.name = name; // this is the current function
   this.odd = (Math.random() > 0.5);
   var that = this;
   this.likesNumber = function(x) {
       return (x%2 == 1)?this.odd:!this.odd;
   }
};
function doit3() {
   var animal = new Animal(prompt("Name your Animal"));
   var num = prompt("A number your animal might like!");
   alert( animal.likesNumber( num ) ? "Yes!"+animal.name+" loves it" :
                                      "No "+animal.name+" hates it!" );
}
</script>
<input type="button" value="doit3()" onclick="javascript:doit3();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## Javascript Methods

* Objects have a prototype object that they are prototyped from
* When you change a prototype it will be available in all instances immediately

````
// look a constructor!
var Counter = function(name) { // function is an object
   this.name = name; // this is the current function
   this.count = 0;
   this.inc = function() { ++this.count; }
};
function counterTest() {
   var counter1 = new Counter("sheep");
   var counter2 = new Counter("people");
   for (var i = 0 ; i < 10; i++) {
       counter1.inc();
       counter2.inc();
   }
   // Dynamically Add a method to all counters in the system
   Counter.prototype.dec = function() { --this.count };
   counter2.dec();
   alert("Counter1:"+counter1.count+" Counter2:"+counter2.count);
}
````
</script>
</div>
<script>
// look a constructor!
var Counter = function(name) { // function is an object
   this.name = name; // this is the current function
   this.count = 0;
   this.inc = function() { ++this.count; }
};
function counterTest() {
   var counter1 = new Counter("sheep");
   var counter2 = new Counter("people");
   for (var i = 0 ; i < 10; i++) {
       counter1.inc();
       counter2.inc();
   }
   // Add a method to all counters in the system
   Counter.prototype.dec = function() { --this.count };
   counter2.dec();
   alert("Counter1:"+counter1.count+" Counter2:"+counter2.count);
}
</script>
<input type="button" value="counterTest()" onclick="javascript:counterTest();"/>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## LICENSE

Copyright 2016 (C) Eddie Antonio Santos
Copyright 2014 (C) Abram Hindle

The textual components of this slide deck are placed under the
Creative Commons Attribute-ShareAlike 4.0 International License (CC
BY-SA 4.0)

</script>
</div>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->


<!-- ######################## START MARKDOWN SLIDE ########################## -->
<section>
<div data-markdown>
<script type="text/template">
## LICENSE

The source code to this slide deck is:

````
Copyright (C) 2013 Hakim El Hattab, http://hakim.se

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
````

</script>
</div>
</section>
<!-- ######################## END MARKDOWN SLIDE ########################## -->

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'linear' || Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
